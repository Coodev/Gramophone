package com.orobator.android.gramophone.view.fragments;import android.os.Bundle;import android.support.v4.app.FragmentManager;import android.support.v4.app.ListFragment;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ListView;import com.orobator.android.gramophone.R;import com.orobator.android.gramophone.model.Album;import com.orobator.android.gramophone.model.Library;import com.orobator.android.gramophone.view.adapters.AlbumAdapter;public class AlbumsFragment extends ListFragment {    private static final String TAG = "AlbumsFragment";    private static Library library;    AlbumAdapter mAdapter;    @Override    public void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setRetainInstance(true);        library = Library.getLibrary(getActivity().getApplicationContext());        long startTime = System.currentTimeMillis();        mAdapter = new AlbumAdapter(library.getAlbums(), this);        setListAdapter(mAdapter);        long endTime = System.currentTimeMillis();        int albumCount = mAdapter.getSize();        double timeInSeconds = (endTime - startTime) / 1000.0;        Log.i(TAG, "Loaded " + albumCount + " albums in " + timeInSeconds + " seconds");    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {        View view = inflater.inflate(R.layout.list_view_albums, parent, false);        return view;    }    @Override    public void onListItemClick(ListView listView, View view, int position, long id) {        Album album = (Album) getListAdapter().getItem(position);        Bundle args = new Bundle();        args.putString(AlbumAdapter.KEY_ALBUM_NAME, album.getAlbumName());        args.putString(AlbumAdapter.KEY_ALBUM_ARTIST, album.getAlbumArtist());        AlbumSongsFragment albumSongsFragment = new AlbumSongsFragment();        albumSongsFragment.setArguments(args);        FragmentManager fm = getActivity().getSupportFragmentManager();        fm.beginTransaction()                .replace(R.id.content_frame, albumSongsFragment)                .addToBackStack(album.getAlbumName())                .commit();    }}