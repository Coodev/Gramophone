package com.orobator.android.gramophone.view.fragments;import android.app.AlertDialog;import android.app.Dialog;import android.app.DialogFragment;import android.content.DialogInterface;import android.os.Bundle;import android.widget.Toast;import com.orobator.android.gramophone.R;import com.orobator.android.gramophone.model.Song;import com.orobator.android.gramophone.model.SongDatabaseHelper;import java.io.File;public class DeleteSongAlertDialogFragment extends DialogFragment {    @Override    public Dialog onCreateDialog(Bundle savedInstanceState) {        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());        Bundle args = getArguments();        final Song song = (Song) args.getSerializable(Song.KEY_SONG);        final String mFilePath = song.getFilePath();        builder.setTitle(R.string.alert_dialog_delete_songs_title);        builder.setNegativeButton(R.string.cancel_delete_song, new DialogInterface.OnClickListener() {            @Override            public void onClick(DialogInterface dialog, int which) {                // Do nothing            }        });        builder.setPositiveButton(R.string.alert_dialog_confirm_delete_song, new DialogInterface.OnClickListener() {            @Override            public void onClick(DialogInterface dialog, int which) {                // Attempt to delete the file                boolean isDeleted = new File(mFilePath).delete();                if (!isDeleted) {                    Toast.makeText(getActivity(), R.string.song_delete_failed, Toast.LENGTH_SHORT).show();                } else {                    // If successful, remove from the database as well                    SongDatabaseHelper helper = new SongDatabaseHelper(getActivity());                    helper.deleteSong(song.getSongID());                    // TODO make listview update. Should probably use onActivityResult or something                }            }        });        builder.setMessage(getString(R.string.make_sure_delete_song, song.toString()));        return builder.create();    }}